---
import { getCollection } from 'astro:content'
import BaseLayout from '../../layouts/DefaultLayout.astro'
const allPosts = await getCollection('posts')
const tags = [...new Set(allPosts.map((post) => post.data.tags).flat())]
const pageTitle = 'Tag Index'
---

<!-- ENHACEMENT Add thebtags from projects -->

<BaseLayout pageTitle={pageTitle}>
  <div class="container">
    <div class="grid auto-cols-max grid-cols-2 gap-3 md:grid-cols-5">
      {
        tags.map((tag) => (
          <a href={`/tags/${tag}`} class="">
            <div
              class="my-6 w-[100%] border-spacing-2 break-inside-avoid rounded-lg border border-slate-200
                       bg-gradient-to-r from-zinc-800 to-zinc-900 p-3 text-center text-zinc-400"
            >
              {tag}
            </div>
          </a>
        ))
      }
    </div>
  </div>
</BaseLayout>

<style lang="scss">
  div:hover {
    color: var(--action-color);
  }
</style>
